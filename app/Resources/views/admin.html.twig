<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="KnoKosS">
    <meta name="keyword" content="">
    <link rel="shortcut icon" href="{{ asset('admin/favicon.png') }}">

    <title>Mutagène administration</title>

    <!-- Bootstrap core CSS -->
    <link href="{{ asset('admin/css/bootstrap.min.css') }}" rel="stylesheet">
    <link href="{{ asset('admin/css/bootstrap-reset.css') }}" rel="stylesheet">
    <!--external css-->
    <link href="{{ asset('admin/assets/font-awesome/css/font-awesome.css') }}" rel="stylesheet" />
    <link rel="stylesheet" href="{{ asset('css/foundation-icons.css') }}" >
    <!-- Custom styles for this template -->
    <link href="{{ asset('admin/css/style.css') }}" rel="stylesheet">
    <link href="{{ asset('admin/css/style-responsive.css') }}" rel="stylesheet" />

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 tooltipss and media queries -->
    <!--[if lt IE 9]>
      <script src="{{ asset('js/html5shiv.js') }}"></script>
      <script src="{{ asset('js/respond.min.js') }}"></script>
    <![endif]-->

    <style>

    ul#contents-load{
      list-style:none;
      /*height:140px;*/
      padding: 0px;
      margin: 0px;
    }
    /* style des éléments de la liste */
    #contents-load section{
      cursor:move;
      list-style:none;
      /*height:100px;*/
      /*width:75px;*/
      /*float:left;*/
      /*margin-right:10px;*/
      background:#fff;
      color:#212326;
      /*font-size:12px;*/
      /*-moz-box-shadow:2px 2px 5px #ccc;*/
    }
    /* style de l'élément fantome, qui apparait losque que l'on bouge un élément */
    #contents-load section.highlight{
      background:#f8f8f8;
      border:1px dashed #787878;
      height: 50px;
      margin-bottom: 20px;
    }

    #contents-load h1, #contents-load h2, #contents-load h3, #contents-load p
    {
      margin: 0px;
    }

    .panel-heading h3
    {
      margin: 10px;
    }

    .header
    {
      -moz-box-shadow: 0px 1px 20px 0px #656565;
      -webkit-box-shadow: 0px 1px 20px 0px #656565;
      -o-box-shadow: 0px 1px 20px 0px #656565;
      box-shadow: 0px 1px 20px 0px #656565;
      filter:progid:DXImageTransform.Microsoft.Shadow(color=#656565, Direction=180, Strength=20);
    }

    .flex-video {
position: relative;
padding-top: 25px;
padding-bottom: 67.5%;
height: 0;
margin-bottom: 16px;
overflow: hidden;
}
 
.flex-video.widescreen { padding-bottom: 57.25%; }
.flex-video.vimeo { padding-top: 0; }
 
.flex-video iframe,
.flex-video object,
.flex-video embed {
position: absolute;
top: 0;
left: 0;
width: 100%;
height: 100%;
}
@media only screen and (max-device-width: 800px), only screen and (device-width: 1024px) and (device-height: 600px), only screen and (width: 1280px) and (orientation: landscape), only screen and (device-width: 800px), only screen and (max-width: 767px) {
.flex-video { padding-top: 0; }
}

    </style>

  </head>

  <body class="boxed-page">
      <div class="container">

        <section id="container" class="">
          <!--header start-->
          <header class="header white-bg">
              <div class="container ">
                  <div class="sidebar-toggle-box">
                      <div data-original-title="Toggle Navigation" data-placement="right" class="fa fa-reorder tooltips"></div>
                  </div>
                  <!--logo start-->
                  <a href="{{ path('mgn_home') }}" class="logo" >Muta<span>gene</span></a>
                  <!--logo end-->
                  <div class="nav notify-row" id="top_menu">
                    <!--  notification start -->
                    <ul class="nav top-menu">
                      <li>
                          <a data-toggle="tooltip" class="tips" data-placement="bottom" title="Ajouter un article" href="{{ path('mgn_admin_article_redaction') }}">
                              <i class="fi-pencil"></i>
                              <span class="badge bg-primary"><i class="fi-plus"></i></span>
                          </a>
                      </li>
                      <!-- settings start -->
                      <!-- <li class="dropdown">
                          <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                              <i class="fa fa-tasks"></i>
                              <span class="badge bg-success">6</span>
                          </a>
                          <ul class="dropdown-menu extended tasks-bar">
                              <div class="notify-arrow notify-arrow-green"></div>
                              <li>
                                  <p class="green">You have 6 pending tasks</p>
                              </li>
                              <li>
                                  <a href="#">
                                      <div class="task-info">
                                          <div class="desc">Dashboard v1.3</div>
                                          <div class="percent">40%</div>
                                      </div>
                                      <div class="progress progress-striped">
                                          <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width: 40%">
                                              <span class="sr-only">40% Complete (success)</span>
                                          </div>
                                      </div>
                                  </a>
                              </li>
                              <li>
                                  <a href="#">
                                      <div class="task-info">
                                          <div class="desc">Database Update</div>
                                          <div class="percent">60%</div>
                                      </div>
                                      <div class="progress progress-striped">
                                          <div class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%">
                                              <span class="sr-only">60% Complete (warning)</span>
                                          </div>
                                      </div>
                                  </a>
                              </li>
                              <li>
                                  <a href="#">
                                      <div class="task-info">
                                          <div class="desc">Iphone Development</div>
                                          <div class="percent">87%</div>
                                      </div>
                                      <div class="progress progress-striped">
                                          <div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100" style="width: 87%">
                                              <span class="sr-only">87% Complete</span>
                                          </div>
                                      </div>
                                  </a>
                              </li>
                              <li>
                                  <a href="#">
                                      <div class="task-info">
                                          <div class="desc">Mobile App</div>
                                          <div class="percent">33%</div>
                                      </div>
                                      <div class="progress progress-striped">
                                          <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" style="width: 33%">
                                              <span class="sr-only">33% Complete (danger)</span>
                                          </div>
                                      </div>
                                  </a>
                              </li>
                              <li>
                                  <a href="#">
                                      <div class="task-info">
                                          <div class="desc">Dashboard v1.3</div>
                                          <div class="percent">45%</div>
                                      </div>
                                      <div class="progress progress-striped active">
                                          <div class="progress-bar"  role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 45%">
                                              <span class="sr-only">45% Complete</span>
                                          </div>
                                      </div>

                                  </a>
                              </li>
                              <li class="external">
                                  <a href="#">See All Tasks</a>
                              </li>
                          </ul>
                      </li>
                      <!-- settings end -->
                      <!-- inbox dropdown start-->
                      <!-- <li id="header_inbox_bar" class="dropdown">
                          <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                              <i class="fa fa-envelope-o"></i>
                              <span class="badge bg-important">5</span>
                          </a>
                          <ul class="dropdown-menu extended inbox">
                              <div class="notify-arrow notify-arrow-red"></div>
                              <li>
                                  <p class="red">You have 5 new messages</p>
                              </li>
                              <li>
                                  <a href="#">
                                      <span class="photo"><img alt="avatar" src="./img/avatar-mini.jpg"></span>
                                            <span class="subject">
                                            <span class="from">Jonathan Smith</span>
                                            <span class="time">Just now</span>
                                            </span>
                                            <span class="message">
                                                Hello, this is an example msg.
                                            </span>
                                  </a>
                              </li>
                              <li>
                                  <a href="#">
                                      <span class="photo"><img alt="avatar" src="./img/avatar-mini2.jpg"></span>
                                            <span class="subject">
                                            <span class="from">Jhon Doe</span>
                                            <span class="time">10 mins</span>
                                            </span>
                                            <span class="message">
                                             Hi, Jhon Doe Bhai how are you ?
                                            </span>
                                  </a>
                              </li>
                              <li>
                                  <a href="#">
                                      <span class="photo"><img alt="avatar" src="./img/avatar-mini3.jpg"></span>
                                            <span class="subject">
                                            <span class="from">Jason Stathum</span>
                                            <span class="time">3 hrs</span>
                                            </span>
                                            <span class="message">
                                                This is awesome dashboard.
                                            </span>
                                  </a>
                              </li>
                              <li>
                                  <a href="#">
                                      <span class="photo"><img alt="avatar" src="./img/avatar-mini4.jpg"></span>
                                            <span class="subject">
                                            <span class="from">Jondi Rose</span>
                                            <span class="time">Just now</span>
                                            </span>
                                            <span class="message">
                                                Hello, this is metrolab
                                            </span>
                                  </a>
                              </li>
                              <li>
                                  <a href="#">See all messages</a>
                              </li>
                          </ul>
                      </li>
                      <!-- inbox dropdown end -->
                      <!-- notification dropdown start-->
                      <!-- <li id="header_notification_bar" class="dropdown">
                          <a data-toggle="dropdown" class="dropdown-toggle" href="#">

                              <i class="fa fa-bell-o"></i>
                              <span class="badge bg-warning">7</span>
                          </a>
                          <ul class="dropdown-menu extended notification">
                              <div class="notify-arrow notify-arrow-yellow"></div>
                              <li>
                                  <p class="yellow">You have 7 new notifications</p>
                              </li>
                              <li>
                                  <a href="#">
                                      <span class="label label-danger"><i class="fa fa-bolt"></i></span>
                                      Server #3 overloaded.
                                      <span class="small italic">34 mins</span>
                                  </a>
                              </li>
                              <li>
                                  <a href="#">
                                      <span class="label label-warning"><i class="fa fa-bell"></i></span>
                                      Server #10 not respoding.
                                      <span class="small italic">1 Hours</span>
                                  </a>
                              </li>
                              <li>
                                  <a href="#">
                                      <span class="label label-danger"><i class="fa fa-bolt"></i></span>
                                      Database overloaded 24%.
                                      <span class="small italic">4 hrs</span>
                                  </a>
                              </li>
                              <li>
                                  <a href="#">
                                      <span class="label label-success"><i class="fa fa-plus"></i></span>
                                      New user registered.
                                      <span class="small italic">Just now</span>
                                  </a>
                              </li>
                              <li>
                                  <a href="#">
                                      <span class="label label-info"><i class="fa fa-bullhorn"></i></span>
                                      Application error.
                                      <span class="small italic">10 mins</span>
                                  </a>
                              </li>
                              <li>
                                  <a href="#">See all notifications</a>
                              </li>
                          </ul>
                      </li>
                      <!-- notification dropdown end -->
                  </ul>
                  </div>
                  <div class="top-nav ">
                      <ul class="nav pull-right top-menu">
                          <li>
                              <input type="text" class="form-control search" placeholder="Search">
                          </li>
                          <!-- user login dropdown start-->
                          <li class="dropdown">
                              <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                                  {{ app.user.avatar|avatar(app.user.avatarPath, app.user.email, '30', '')|raw }}
                                  <span class="username">{{ app.user.username }}</span>
                                  <b class="caret"></b>
                              </a>
                              <ul class="dropdown-menu extended logout">
                                  <div class="log-arrow-up"></div>
                                  <!--<li><a href="#"><i class=" fa fa-suitcase"></i>Profile</a></li>
                                  <li><a href="#"><i class="fa fa-cog"></i> Settings</a></li>
                                  <li><a href="#"><i class="fa fa-bell-o"></i> Notification</a></li>-->
                                  <li><a href="{{ path('logout') }}"><i class="fa fa-power-off"></i> Déconnexion</a></li>
                              </ul>
                          </li>
                          <!-- user login dropdown end -->
                      </ul>
                  </div>
              </div>
          </header>
          <!--header end-->
          <!--sidebar start-->
          <aside>
              <div id="sidebar"  class="nav-collapse ">
                  <!-- sidebar menu start-->
                  <ul class="sidebar-menu" id="nav-accordion">
                      <li>
                          <a href="{{ path('mgn_admin_homepage') }}" class="{% block sidebar_dashboard %}{% endblock %}">
                              <i class="fa fa-tachometer"></i>
                              <span>Tableau de bord</span>
                          </a>
                      </li>

                      <li class="sub-menu">
                          <a href="javascript:;" class="{% block sidebar_articles %}{% endblock %}">
                              <i class="fi-pencil"></i>
                              <span>Articles</span>
                          </a>
                          <ul class="sub">
                              <li class="{% block sidebar_articles_list %}{% endblock %}">
                                  <a href="{{ path('mgn_admin_article_list', {'status': 'publish'}) }}">Tous les articles</a>
                              </li>
                              <li class="{% block sidebar_articles_category %}{% endblock %}">
                                  <a href="{{ path('mgn_admin_article_category') }}">Catégories</a>
                              </li>
                          </ul>
                      </li>

                      <li class="sub-menu">
                          <a href="javascript:;" class="{% block sidebar_medias %}{% endblock %}">
                              <i class="fi-photo"></i>
                              <span>Médias</span>
                          </a>
                          <ul class="sub">
                              <li class="{% block sidebar_medias_all %}{% endblock %}">
                                  <a href="{{ path('mgn_admin_homepage') }}">Tous les médias</a>
                              </li>
                              <li class="{% block sidebar_medias_add %}{% endblock %}">
                                  <a href="{{ path('mgn_admin_media_picture_add') }}">Ajouter</a>
                              </li>
                              <li class="{% block sidebar_medias_gallery %}{% endblock %}">
                                  <a href="{{ path('mgn_admin_media_gallery') }}">Galeries</a>
                              </li>
                          </ul>
                      </li>

                      <li class="sub-menu">
                          <a href="javascript:;" class="{% block sidebar_pagers %}{% endblock %}">
                              <i class="fi-page-multiple"></i>
                              <span>Pages</span>
                          </a>
                          <ul class="sub">
                              <li class="{% block sidebar_pagers_all %}{% endblock %}">
                                  <a href="{{ path('mgn_admin_homepage') }}">Toutes les pages</a>
                              </li>
                              <li class="{% block sidebar_pagers_add %}{% endblock %}">
                                  <a href="{{ path('mgn_admin_homepage') }}">Ajouter</a>
                              </li>
                          </ul>
                      </li>

                      <li class="{% block sidebar_messages %}{% endblock %} {% block sidebar_messages_all %}{% endblock %}">
                          <a href="{{ path('mgn_admin_homepage') }}"><i class="fi-comments"></i> Messages</a>
                      </li>

                      <li class="{% block sidebar_forums %}{% endblock %} {% block sidebar_forums_all %}{% endblock %}">
                          <a href="{{ path('mgn_admin_forum') }}"><i class="fi-results-demographics"></i> Forums</a>
                      </li>

                      <li class="sub-menu">
                          <a href="javascript:;" class="{% block sidebar_users %}{% endblock %}">
                              <i class="fi-torsos-all"></i>
                              <span>Utilisateurs</span>
                          </a>
                          <ul class="sub">
                              <li class="{% block sidebar_users_all %}{% endblock %}">
                                  <a href="{{ path('mgn_user_admin_list_user') }}">Tous les utilisateurs</a>
                              </li>
                              <li class="{% block sidebar_users_groups %}{% endblock %}">
                                  <a href="{{ path('mgn_user_admin_list_group') }}">Groupes</a>
                              </li>
                          </ul>
                      </li>
                      <li class="sub-menu">
                          <a href="javascript:;" class="{% block sidebar_appearance %}{% endblock %}">
                              <i class="fi-monitor"></i>
                              <span>Apparence</span>
                          </a>
                          <ul class="sub">
                              <li class="{% block sidebar_appearance_themes %}{% endblock %}">
                                  <a href="{{ path('mgn_core_admin_themes') }}">Thèmes</a>
                              </li>
                              <li class="{% block sidebar_appearance_articles %}{% endblock %}">
                                  <a href="{{ path('mgn_user_admin_list_group') }}">Articles</a>
                              </li>
                              <li class="{% block sidebar_appearance_forums %}{% endblock %}">
                                  <a href="{{ path('mgn_user_admin_list_group') }}">Forums</a>
                              </li>
                          </ul>
                      </li>
                      <li class="sub-menu">
                          <a href="javascript:;" class="{% block sidebar_core %}{% endblock %}">
                              <i class="fi-widget"></i>
                              <span>Site</span>
                          </a>
                          <ul class="sub">
                              <li class="{% block sidebar_core_parameters %}{% endblock %}">
                                  <a href="{{ path('mgn_admin_core_parameters') }}">Paramètres</a>
                              </li>
                              <li class="{% block sidebar_core_modules %}{% endblock %}">
                                  <a href="{{ path('mgn_admin_core_modules') }}">Modules</a>
                              </li>
                              <li class="{% block sidebar_core_acls %}{% endblock %}">
                                  <a href="{{ path('mgn_admin_core_acls') }}">Gestion des acls</a>
                              </li>
                          </ul>
                      </li>

                      <li class="{% block sidebar_uservoice %}{% endblock %}">
                          <a href="{{ path('mgn_admin_homepage') }}"><i class="fi-megaphone"/></i> UserVoice</a>
                      </li>

                      <li style="margin-top: 30px; margin-left: 50px;"><img src="{{ asset('admin/img/mutagene.png') }}" title="" /></li>

                  </ul>
                  <!-- sidebar menu end-->
              </div>
          </aside>
          <!--sidebar end-->
          <!--main content start-->
          <section id="main-content">
              <section class=" wrapper">
                  {% block body %}
                  {% endblock %}
              </section>
          </section>
          <!--main content end-->
          <!--footer start-->
          <footer class="site-footer">
              <div class="text-center">
                  2014 &copy; Mutagene par KnoKosS !
                  <a href="#" class="go-top">
                      <i class="fa fa-angle-up"></i>
                  </a>
              </div>
          </footer>
          <!--footer end-->
      </section>

      </div>

    <!-- js placed at the end of the document so the pages load faster -->
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
    <script src="{{ asset('admin/js/bootstrap.min.js') }}"></script>
    <script class="include" type="text/javascript" src="{{ asset('admin/js/jquery.dcjqaccordion.2.7.js') }}"></script>
    <script src="{{ asset('admin/js/jquery.scrollTo.min.js') }}"></script>
    <script src="{{ asset('admin/js/jquery.nicescroll.js') }}" type="text/javascript"></script>
    <script src="{{ asset('admin/js/respond.min.js') }}" ></script>
    <script src="{{ asset('admin/js/count.js') }}"></script>
    <script src="{{ asset('js/edit_area/edit_area_full.js') }}"></script>

    <!--common script for all pages-->
    <script src="{{ asset('admin/js/common-scripts.js') }}"></script>

    <script src="{{ asset('js/jquery.elastic.source.js') }}"></script>

        <script>
    <!--
    editAreaLoader.init({
        id : 'mgn_corebundle_Editortype',
        syntax: 'html',
        start_highlight: true,
        min_height: 850,
        allow_toggle: false,
        language: 'fr',
        toolbar: 'change_smooth_selection,reset_highlight,highlight,|,word_wrap',
        allow_resize: 'y',
    });
    -->
    </script>

    <script>
    <!--
    $(document).ready(function(){
        $('.tips').tooltip();

        $( ".textarea_elastic" ).elastic();

        $( "#mgn_articlebundle_articletype_header_loader" ).hide();
        $( ".loader" ).hide();

        $('#pictureHeaderView').append('<img class="img-responsive img-thumbnail" src="' + $(".picture").val() + '" title="" />');

        $('.picture').blur(function() {
            var pictureView = $(this).val();
            // Le loader d'attente
            $( "#mgn_articlebundle_articletype_header_loader" ).show();

            // On retire les img de la div et on insère la nouvelle
            $('#pictureHeaderView img').remove();
            $('#pictureHeaderView').append('<img class="img-responsive img-thumbnail" src="' + pictureView + '" title="" />');

            // On enregistre les modifications de l'article

            // Fin du loader d'attente
            $( "#mgn_articlebundle_articletype_header_loader" ).hide();
        });

        $(document).on('click', '.article-content-edit', function(e) {
            $( "#"+$(this).attr('id')+" .loader:first" ).show();
            var id = $(this).attr('id');
            var actionedit = $(this).attr('data-path');
            
            $.ajax({
                type: "GET",
                url: actionedit,
                timeout: 3000,
                success: function(data){
                    $("#"+id).replaceWith(data);
                    $( ".loader" ).hide();
                    $( ".textarea_elastic" ).elastic();
                    $( ".form").focus();
                },
                error: function(data) {
                   alert(data);
                   alert("Une erreur s'est produite pendant l'édition de vos données.");
                   $( ".loader" ).hide();
                 }
            });
            e.preventDefault();
        });

        $(document).on('click', '.article-content-cancel', function(e) {
            $( "#"+$(this).parents('form:first').attr('id')+" .loader" ).show();
            var id = $(this).parents('form:first').attr('id');
            var actioncancel = $(this).attr('data-path');
            
            $.ajax({
                type: "GET",
                url: actioncancel,
                timeout: 3000,
                success: function(data){
                    $("#"+id).replaceWith(data);
                    $( ".loader" ).hide();
                },
                error: function(data) {
                   alert(data);
                   alert("Une erreur s'est produite pendant l'édition de vos données.");
                   $( ".loader" ).hide();
                 }
            });
            e.preventDefault();
        });

        $(document).on('click', '.article-content-save', function(e) {
            $( "#"+$(this).parents('form:first').attr('id')+" .loader" ).show();
            var idform = $(this).parents('form:first').attr('id');
            var actionform = $(this).parents('form:first').attr('action');
            var form = $(this).parents('form:first');

            $.ajax({
                type: "POST",
                url: actionform,
                data: $(form).serialize(),
                timeout: 3000,
                success: function(data){
                    $("#"+idform).replaceWith(data);
                    $( ".loader" ).hide();
                },
                error: function(data) {
                   //alert(data);
                   alert("Une erreur s'est produite pendant l'enregistrement de vos données.");
                   $( ".loader" ).hide();
                 }
            });
            e.preventDefault();
        });

        $(document).on('click', '.content-save', function() {
            var idform = $(this).parents('form:first').attr('id');
            var actionform = $(this).parents('form:first').attr('action');
            var form = $(this).parents('form:first');
            $( "#"+$(this).parents('form:first').attr('id')+" .loader" ).show();
            var idsection = $(this).parents('section').attr('id');

            $.ajax({
                type: "POST",
                url: actionform,
                data: $(form).serialize(),
                timeout: 3000,
                success: function(data){
                    $( ".loader" ).hide();
                    $("#"+idsection).replaceWith(data);
                },
                error: function(data) {
                   //alert(data);
                   alert("Une erreur s'est produite pendant l'enregistrement de vos données.");
                   $( ".loader" ).hide();
                 }
            });
        });

        $(document).on('click', '.content-edit', function(e) {
            var idsection = $(this).parents('section').attr('id');
            var actionedit = $(this).attr('href');
            
            $.ajax({
                type: "GET",
                url: actionedit,
                timeout: 3000,
                success: function(data){
                    $("#"+idsection).replaceWith(data);
                    $( ".loader" ).hide();
                    $( ".textarea_elastic" ).elastic();
                    $( ".formcontent").focus();
                },
                error: function(data) {
                   alert(data);
                   alert("Une erreur s'est produite pendant l'édition de vos données.");
                   $( ".loader" ).hide();
                 }
            });
            e.preventDefault();
        });

        $(document).on('click', '.content-delete', function(e) {
            var idform = $(this).parents('section').attr('id');
            var actiondelete = $(this).attr('href');
            $( "#"+$(this).parents('form:first').attr('id')+" .loader" ).show();
            
            $.ajax({
                type: "GET",
                url: actiondelete,
                timeout: 3000,
                success: function(data){
                    $( "#"+idform ).remove();
                    $( ".loader" ).hide();
                },
                error: function(data) {
                   alert(data);
                   alert("Une erreur s'est produite pendant la suppression de vos données.");
                   $( ".loader" ).hide();
                 }
            });
            e.preventDefault();
        });

        // Gestion du block d'ajout de contents
        $( ".contents-add-over" ).hide();

        $('.contents-add').mouseover(function() {
            $( ".contents-add-out" ).hide();
            $( ".contents-add-over" ).show();
        });

        $('.contents-add').mouseout(function() {
            $( ".contents-add-out" ).show();
            $( ".contents-add-over" ).hide();
        });

        $('.contents-add-link').click(function(e) {
            var href = $(this).attr('href');
            $.ajax({
                type: "GET",
                url: href,
                timeout: 3000,
                success: function(data){
                    $("#contents-load").append(data);
                    $( ".loader" ).hide();
                    $( ".textarea_elastic" ).elastic();
                    $( ".formcontent").focus();
                },
                error: function(data) {
                   alert(data);
                   alert("Une erreur s'est produite pendant la génération du contenu.");
                   $( ".loader" ).hide();
                 }
            });
            e.preventDefault();
        });

        // Gestion sortable jquery ui
        $(document).ready( function(){ // quand la page a fini de se charger
            $("#contents-load").sortable({ // initialisation de Sortable sur #list-photos
                placeholder: 'highlight', // classe à ajouter à l'élément fantome
                update: function(event, ui) {   
                    var order = $("#contents-load").sortable('toArray').toString();
                    var path = $("#contents-load").attr("data-path");

                    //alert(order);

                    $.ajax({
                        type: "POST",
                        url: path,
                        async: true,
                        cache: false,
                        dataType: "json",
                        data:{
                            order: order // Passes ID's of list items in  1,3,2 format
                        },
                        timeout: 3600,
                        cache: false,
                        success: function(response) {
                            //alert(response.info);
                            $( ".loader" ).hide(); // Hide the loading animation
                            return; 
                        },
                        error: function(response) {  // This can be expanded to provide more information
                            alert(response.info);
                            // alert('There was an error saving the updates');
                            $( ".loader" ).hide(); // Hide the loading animation
                            return; 
                        }
                    });
                }
                    
            });
            $("#contents-load").disableSelection(); // on désactive la possibilité au navigateur de faire des sélections
        });
        

        {% block jquery %}
        {% endblock %}

    });
    -->
    </script>


    {% block javascript %}
    {% endblock %}

  </body>
</html>
