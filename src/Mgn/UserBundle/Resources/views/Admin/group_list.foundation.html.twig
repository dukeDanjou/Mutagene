{% extends "MgnUserBundle::admin.html.twig" %}

{% block title %}
    {{ 'user.groups_list.title'|trans }} - {{ parent() }}
{% endblock %}

{% block body %}

	<div class="row">

		<div class="large-4 columns" style="background-color: #f0f0f0;">

			<div class="row">

				<div class="large-12 columns" style="background-color: #f0f0f0; border-bottom: 4px solid grey; padding-top: 16px; height: 74px;">

					<div class="row">

						<div class="large-10 columns">

						<form action="#">

							<input type="text" name="search" id="id_search" placeholder="{{ 'user.form.groups_list.search'|trans }}">

						</form>

						</div>

						<div class="large-2 columns">

							<a href="#" data-reveal-id="ModalAddGroup" title="{{ 'user.form.groups_list.addGroup'|trans }}"><i class="fi-plus right button tiny"></i></a>

							<div id="ModalAddGroup" class="reveal-modal medium" data-reveal>
							<h2>{{ 'user.form.groups_list.addGroup'|trans }}</h2>
							<p>
								<form role="form" method="post" {{ form_enctype(form) }} class="form-horizontal">

									<div class="row">

						                <div class="large-2 columns">

						                    <label for="mgn_userbundle_grouptype_name" class="right inline">{{ 'user.form.addgroup.name'|trans }}</label>

						                </div>

						                <div class="large-8 columns">

						                    {{ form_widget(form.name, { 'attr' : {'required' : 'required', 'pattern' : '[a-zA-Z]+'}}) }}

						                </div>

						                <div class="large-2 columns">
						                </div>

						            </div>

									{{ form_widget(form) }}

						            <div class="row">

						                <div class="large-8 large-offset-2 columns">

						                    <button type="submit" class="button">{{ 'user.button.add'|trans }}</button>

						                </div>

						            </div>

						        </form>

							</p>
							<a class="close-reveal-modal">&#215;</a>
							</div>

						</div>

					</div>

				</div>

				<div class="large-12 columns toSize">

					<div class="row" id="list_users">

						{% for group in groups_list %}
						<a href="" class="link_dynamic">
							<div class="large-12 columns list_users" style="border-bottom: 2px solid #c8c8c8; height: 100px; padding-top: 0px; background-color: #fff;" id="{{ group.slug }}">

								<p>
									
									<h4 style="color: #323232; font-weight: bold;">{{ group.name }}</h4>

									<small style="color: #323232; font-size: 12px;">{{ 'user.groups_list.members'|transchoice(group.countUsers) }}</small>

									<div class="hide"></div>
									
								</p>

							</div>
						</a>
						{% else %}
						<div class="large-12 columns" style="margin-top: 15px;">
							<div data-alert class="alert-box">
								Aucun groupe de trouv√©
							</div>
						</div>
						{% endfor %}

					</div>

				</div>

			</div>

		</div>

		<div class="large-8 columns toSize2" style="border-left: 8px solid #c8c8c8;" id="load_dynamic">

		</div>
		
	</div>

{% endblock %}