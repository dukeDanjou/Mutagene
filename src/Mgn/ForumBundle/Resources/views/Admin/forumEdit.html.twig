{% extends "MgnArticleBundle::admin.html.twig" %}

{% block title %}
    Modifier un forum - {{ parent() }}
{% endblock %}

{% block sidebar_forums %}active{% endblock %}
{% block sidebar_forums_categories %}select{% endblock %}

{% block body %}

	<div class="row">
	
		<div class="col-lg-12">

			<div class="page-header">

				<h1><i class="fi-results-demographics"></i> Modifier le forum</h1>

			</div>

		</div>

		{% for message in app.session.flashbag.get('success') %}
		<div class="col-lg-12">
	        <div class="alert alert-success">
	        	<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
	            {{ message }}
	        </div>
        </div>
        {% endfor %}

        <div class="col-lg-12">

        	<form name="" role="form" method="post" {{ form_enctype(form) }}>

				<div class="form-group{% if form_errors(form.name) %} has-error{% endif %}">

					<label for="mgn_forumbundle_forumtype_name">Nom</label>

					{{ form_widget(form.name, { 'attr' : { 'class' : 'form-control', 'placeholder' : "Nom du forum" } }) }}

				</div>

				<div class="form-group">

					<label for="mgn_forumbundle_forumtype_category">Catégorie</label>
    
    				{{ form_widget(form.category, { 'attr' : { 'class' : 'form-control'} }) }}

				</div>

				<div class="form-group{% if form_errors(form.sort) %} has-error{% endif %}">

					<label for="mgn_forumbundle_forumtype_sort">Ordre</label>

					{{ form_widget(form.sort, { 'attr' : { 'class' : 'form-control' } }) }}

					<p class="help-block">L'ordre permet d'organiser l'affichage de vos différents forums.</p>

				</div>

				<div class="form-group{% if form_errors(form.description) %} has-error{% endif %}">

					<label for="mgn_forumbundle_forumtype_description">Description</label>

					{{ form_widget(form.description, { 'attr' : { 'class' : 'form-control', 'rows' : '1' } }) }}

					<p class="help-block">Décrivez en quelques mots ce que contiendra ce forum.</p>

				</div>

				<div class="form-group">
						<div class="checkbox">
							<label>
								{{ form_widget(form.publicAclView) }} Autorisé <strong>tout le monde</strong> à <strong>voir</strong> le forum.
							</label>
						</div>
						<div class="checkbox">
							<label>
								{{ form_widget(form.publicAclPost) }} Autorisé <strong>tous les membres</strong> à <strong>poster des messages.</strong>
							</label>
						</div>
						<div class="checkbox">
							<label>
								{{ form_widget(form.publicAclTopic) }} Autorisé <strong>tous les membres</strong> à <strong>créer des sujets.</strong>
							</label>
						</div>

						<p class="help-block">Pour définir des accès privé spécifique, vous pourrez le faire après dans la partie gestion des acls.</p>
				</div>

				{{ form_rest(form) }}

				<div class="form-actions">

	                <button type="submit" class="btn btn-primary">Modifier le forum</button>
	                <a href="{{ path('mgn_admin_forum') }}" class="btn btn-default">Annuler</a>

	            </div>
					

			</form>

        </div>

	</div>

{% endblock %}